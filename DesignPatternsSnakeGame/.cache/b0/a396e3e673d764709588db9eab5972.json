{"id":"qo4e","dependencies":[{"name":"D:\\ma\\Proef opdracht\\SnakeGame\\tsconfig.json","includedInParent":true,"mtime":1611660322184},{"name":"D:\\ma\\Proef opdracht\\SnakeGame\\.babelrc","includedInParent":true,"mtime":1586259187841},{"name":"D:\\ma\\Proef opdracht\\SnakeGame\\package.json","includedInParent":true,"mtime":1611692876058},{"name":"pixi.js","loc":{"line":3,"column":26},"parent":"D:\\ma\\Proef opdracht\\SnakeGame\\src\\Snake.ts","resolved":"D:\\ma\\Proef opdracht\\SnakeGame\\node_modules\\pixi.js\\lib\\pixi.es.js"},{"name":"~app","loc":{"line":4,"column":23},"parent":"D:\\ma\\Proef opdracht\\SnakeGame\\src\\Snake.ts","resolved":"D:\\ma\\Proef opdracht\\SnakeGame\\src\\app.ts"},{"name":"./Vector2","loc":{"line":5,"column":26},"parent":"D:\\ma\\Proef opdracht\\SnakeGame\\src\\Snake.ts","resolved":"D:\\ma\\Proef opdracht\\SnakeGame\\src\\Vector2.ts"}],"generated":{"js":"\"use strict\";function e(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}Object.defineProperty(exports,\"__esModule\",{value:!0});var s=require(\"pixi.js\"),r=require(\"~app\"),a=require(\"./Vector2\"),o=function(){function t(i,r){e(this,t),this.xSpeed=0,this.ySpeed=0,this.score=0,this.eatSprite=0,this.bestScore=0,this.grow=!1,this.waitForMove=!1,this.drawnOnce=!1,this.body=[],this.body[0]=new a.Vector2(i,r),this.tailSquares=new s.Graphics}return i(t,[{key:\"update\",value:function(){var e=new a.Vector2(this.body[0].x,this.body[0].y);e.add(this.xSpeed*r.gridScale,this.ySpeed*r.gridScale),this.body.unshift(e),this.grow||this.body.pop(),r.snakeHeadSprite.position.x=e.x,r.snakeHeadSprite.position.y=e.y,this.grow=!1,this.waitForMove=!1}},{key:\"show\",value:function(){var e=0;if(1==this.xSpeed?e=1:-1==this.xSpeed?e=3:1==this.ySpeed&&(e=2),r.snakeHeadSprite.position.x=this.body[0].x,r.snakeHeadSprite.position.y=this.body[0].y,this.drawSpriteFromSpriteSheet(r.snakeHeadSprite,e,this.eatSprite),!(this.body.length<=1)){this.drawnOnce&&r.container.removeChild(this.tailSquares),this.tailSquares=new s.Graphics,this.tailSquares.beginFill(5273337,1);for(var t=1;t<this.body.length-1;t++)this.tailSquares.drawRect(this.body[t].x,this.body[t].y,r.gridScale,r.gridScale);this.tailSquares.endFill(),r.container.addChild(this.tailSquares),this.drawnOnce=!0;var i=this.body.length-2,a=this.body.length-1,o=this.body[i].x-this.body[a].x,h=this.body[i].y-this.body[a].y;e=0,o>=1?e=1:o<=-1?e=3:h>=1&&(e=2),r.snakeTailSprite.visible=!0,r.snakeTailSprite.position.x=this.body[a].x,r.snakeTailSprite.position.y=this.body[a].y,this.drawSpriteFromSpriteSheet(r.snakeTailSprite,e,0)}}},{key:\"drawSpriteFromSpriteSheet\",value:function(e,t,i){var a=e.texture.baseTexture;e.texture=new s.Texture(a,new PIXI.Rectangle(t*r.gridScale,i*r.gridScale,r.gridScale,r.gridScale)),e.texture.updateUvs()}},{key:\"checkCollisionFood\",value:function(){var e=this.body[0].distance(r.food.pos);if(e<=10)return r.food.randomLocation(),this.grow=!0,this.score++,r.pointSfx.play(),this.score>this.bestScore&&(this.bestScore=this.score),r.scoreElement.innerHTML=\"Score: \"+this.score,void(r.bestScoreElement.innerHTML=\"Best Score: \"+this.bestScore);this.eatSprite=e<=80?1:0}},{key:\"checkWallCollision\",value:function(){var e=this.body[0];e.x>r.canvas.width-r.gridScale?(e.x=r.canvas.width-r.gridScale,r.showGameOver()):e.x<0?(e.x=0,r.showGameOver()):e.y<0?(e.y=0,r.showGameOver()):e.y>r.canvas.height-r.gridScale&&(e.y=r.canvas.height-r.gridScale,r.showGameOver())}},{key:\"checkBodyCollision\",value:function(){for(var e=this.body[0],t=1;t<this.body.length;t++)e.distance(this.body[t])<5&&r.showGameOver()}},{key:\"changeDirection\",value:function(e,t){this.waitForMove||(Math.abs(this.xSpeed)!=Math.abs(e)&&(this.xSpeed=e,r.turnSfx.play(),this.waitForMove=!0),Math.abs(this.ySpeed)!=Math.abs(t)&&(this.ySpeed=t,r.turnSfx.play(),this.waitForMove=!0))}}]),t}();exports.Snake=o;"},"sourceMaps":null,"error":null,"hash":"62bff43407b3439f482a693e3489907c","cacheData":{"env":{}}}